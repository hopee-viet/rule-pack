---
description: Rule Pack - conventions cốt lõi
alwaysApply: true
---

# Rule Pack Core

Khi sinh code hoặc thực hiện task, luôn tuân thủ:

1. **RULES.md** (nếu có) — layering, error handling, naming, validation
   - Đọc RULES.md **ngay khi bắt đầu** task coding (trước khi edit file đầu tiên)
2. **Boundary imports**: `api` → `service` → `repository` (không vi phạm)
   - Nếu user yêu cầu vi phạm (vd: api import repository) → **từ chối**, giải thích rule, đề xuất cách đúng
3. **Trước khi đề xuất thay đổi lớn** hoặc **khi thêm/sửa import**: chạy `ruff check`, `mypy`, `pytest`, `lint-imports`
4. **Ưu tiên auto-fix** của ruff khi có lỗi
